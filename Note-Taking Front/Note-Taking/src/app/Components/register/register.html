<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<div class="login-container pt-5 mt-5">
    <div class="login-card py-2">
      <!-- Left Side with Image -->
      <div class="left-side">
        <!-- Image from Unsplash (replace with your own) -->
        <img src="https://images.unsplash.com/photo-1521737711867-e3b97375f902?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Modern Office">
        
        <!-- Overlay with content -->
        <div class="image-overlay">
          <div class="logo">
            <div class="logo-icon"><i class="fas fa-drafting-compass"></i></div>
            <h3>NotesHub</h3>
            <p class="tagline">Where creativity meets collaboration</p>
          </div>
          
          <div class="welcome-text">
            <h2>Hey! Welcome Back</h2>
            <p>Connect with your creative community</p>
          </div>
        </div>
      </div>

      <!-- Right Side -->
      <div class="right-side">
        <div class="top-link pt-5 mt-2">
<a [routerLink]="['/login']">Log in to your account</a>
        </div>

        <h2 class="pt-5">Create a new Account</h2>

        <form [formGroup]="registerform" (ngSubmit)="onRegister()">
  <div class="input-group">
    <input type="text" placeholder="Name" formControlName="Name" class="input-field" required>
    <i class="fas fa-user input-icon"></i>
    <div *ngIf="registerform.get('Name')?.touched && registerform.get('Name')?.invalid" class="text-danger">
      <small *ngIf="registerform.get('Name')?.errors?.['required']">Name is required.</small>
      <small *ngIf="registerform.get('Name')?.errors?.['minlength']">Name must be at least 2 characters.</small>
    </div>
  </div>

  <div class="input-group">
    <input type="email" placeholder="Email" class="input-field" formControlName="email" required>
    <i class="fas fa-envelope input-icon"></i>
    <div *ngIf="registerform.get('email')?.touched && registerform.get('email')?.invalid" class="text-danger">
      <small *ngIf="registerform.get('email')?.errors?.['required']">Email is required.</small>
      <small *ngIf="registerform.get('email')?.errors?.['email']">Enter a valid email address.</small>
    </div>
    <div *ngIf="registerform.get('email')?.errors?.['emailTaken']" class="text-danger">
  <small>This email is already registered. Please try another.</small>
</div>

  </div>

<div class="input-group">
  <div class="position-relative w-100">
    <input [type]="showPassword ? 'password'  : 'text'"
           placeholder="Password"
           class="input-field pe-5"  
           formControlName="password"
           required>
  
    <i class="fas"
       [class.fa-eye]="!showPassword"
       [class.fa-eye-slash]="showPassword"
       (click)="showPassword = !showPassword"
       style="position:absolute; top: 50%; right: 10px; transform: translateY(-50%); cursor: pointer;"></i>
  </div>


  <!-- Password validation messages -->
  <div *ngIf="registerform.get('password')?.touched || submitted" 
       class="text-danger">
    <div *ngIf="registerform.get('password')?.errors?.['required']">
      <small>Password is required.</small>
    </div>
    <div *ngIf="registerform.get('password')?.errors?.['minlength']">
      <small>Password must be at least 8 characters.</small>
    </div>
    <div *ngIf="registerform.get('password')?.errors?.['passwordStrength']">
      <small>Password must contain:</small>
      <ul class="validation-list">
        <li [class.valid]="!registerform.get('password')?.errors?.['missingUpperCase']">
          At least one uppercase letter
        </li>
        <li [class.valid]="!registerform.get('password')?.errors?.['missingLowerCase']">
          At least one lowercase letter
        </li>
        <li [class.valid]="!registerform.get('password')?.errors?.['missingNumber']">
          At least one number
        </li>
        <li [class.valid]="!registerform.get('password')?.errors?.['missingSpecialChar']">
          At least one special character (!@#$%^&*)
        </li>
      </ul>
    </div>
  </div>
</div>




<div class="input-group">
  <div class="position-relative w-100">
    <input [type]="showConfirmPassword ?'password'  : 'text'"
           placeholder="Confirm Password"
           class="input-field pe-5"  
           formControlName="confirmPassword"
           required>
  
    <i class="fas"
       [class.fa-eye]="!showConfirmPassword"
       [class.fa-eye-slash]="showConfirmPassword"
       (click)="showConfirmPassword = !showConfirmPassword"
       style="position:absolute; top: 50%; right: 10px; transform: translateY(-50%); cursor: pointer;"></i>
  </div>
  <!-- Add this after password field -->
<!-- <div class="input-group">
  <input type="password" 
         placeholder="Confirm Password" 
         class="input-field" 
         formControlName="confirmPassword" 
         required>
   <i class="fas"
     [class.fa-eye]="!showPassword"
     [class.fa-eye-slash]="showPassword"
     (click)="showPassword = !showPassword"
     style="position:absolute; top: 50%; right: 10px; transform: translateY(-50%); cursor: pointer;"></i>   -->
  <!-- Required validation -->
  <div *ngIf="(registerform.get('confirmPassword')?.touched || submitted) && 
              registerform.get('confirmPassword')?.invalid" 
       class="text-danger">
    <small *ngIf="registerform.get('confirmPassword')?.errors?.['required']">
      Confirm Password is required.
    </small>
  </div>
  
  <!-- Password mismatch validation -->
  <div *ngIf="(registerform.get('confirmPassword')?.touched || submitted) && 
              registerform.errors?.['passwordMismatch']" 
       class="text-danger">
    <small>Passwords do not match.</small>
  </div>
</div>

<!-- Update submit button -->
<button class="login-button mb-5" 
        type="submit" 
        [disabled]="registerform.invalid || registerform.errors?.['passwordMismatch']">
  Sign Up
</button>

  <!-- <button class="login-button" type="submit" [disabled]="registerform.invalid">Sign Up</button> -->
</form>


       
      </div>
    </div>
  </div>